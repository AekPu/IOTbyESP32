คู่มือการใช้งานระบบควบคุมรีเลย์ด้วย ESP32 ผ่าน Web Server

1. ภาพรวมระบบ
ระบบนี้ใช้ ESP32 ในการอ่านค่าเซนเซอร์อุณหภูมิ (DHT11), ความชื้นในอากาศ และความชื้นในดิน (Capacitive Soil Moisture Sensor) เพื่อควบคุมรีเลย์แยกอิสระ 3 ตัว โดยผู้ใช้สามารถตั้งค่าช่วงการทำงานของแต่ละรีเลย์ผ่านหน้าเว็บ และเลือกโหมดการทำงาน Auto หรือ Manual ได้อย่างอิสระ

2. อุปกรณ์ที่ใช้

ESP32

DHT11 (อุณหภูมิ/ความชื้น)

Capacitive Soil Moisture Sensor (v1.2)

รีเลย์ 3 ตัว

ตัวต้านทาน/วงจรไฟฟ้าประกอบ

อินเทอร์เน็ต Wi-Fi สำหรับ ESP32

3. ฟังก์ชันของระบบ

แสดงค่าจากเซนเซอร์แบบเรียลไทม์

ตั้งค่าช่วงอุณหภูมิ, ความชื้น, และความชื้นในดินได้จากหน้าเว็บ

สั่งควบคุมรีเลย์แยกอิสระได้ 3 ตัว โดยเลือกโหมดการทำงานดังนี้:

Auto: ทำงานตามช่วงค่าที่กำหนด

Manual ON: เปิดรีเลย์ตลอดเวลา

Manual OFF: ปิดรีเลย์ตลอดเวลา

แสดงสถานะการทำงานของรีเลย์แต่ละตัวแบบเรียลไทม์

รีเฟรชอัตโนมัติทุก 3 วินาที

4. การเริ่มต้นใช้งาน

เชื่อมต่ออุปกรณ์และโหลดโค้ดลงใน ESP32 ผ่าน Thonny หรือ Arduino IDE

ตั้งค่า Wi-Fi โดยกรอก SSID และ Password ของเครือข่าย

เมื่อเชื่อมต่อสำเร็จ ระบบจะแสดง IP Address ของ ESP32

เปิดเบราว์เซอร์และเข้าที่ IP Address ที่แสดง เช่น http://192.168.1.100

หน้าควบคุมจะแสดงค่าเซนเซอร์และปุ่มควบคุมทั้งหมด

5. การตั้งค่าจากหน้าเว็บ

กำหนดช่วงค่าควบคุมของ Temperature, Humidity, และ Soil Moisture

เลือกโหมด Auto / Manual ON / Manual OFF สำหรับแต่ละรีเลย์

กด "Apply Settings" เพื่อบันทึกค่าที่ตั้งไว้

6. ตัวอย่างการใช้งาน

ตั้ง Temp Min = 25, Max = 30 แล้วเลือก Auto หมายความว่า หากอุณหภูมิอยู่ในช่วงนี้ รีเลย์จะเปิดอัตโนมัติ

หากต้องการบังคับเปิดปั๊มน้ำสำหรับดินตลอดเวลา ให้ตั้ง Soil Relay เป็น Manual ON

7. คำอธิบายสีของค่าความชื้นในดิน

แดง: แห้งมาก

ส้ม: แห้ง

เขียว: ชื้น

น้ำเงิน: ชื้นมาก

8. หมายเหตุ

Soil Moisture Sensor จะให้ค่า ADC ประมาณ 1000 (ชื้นมาก) - 4000 (แห้ง)

หน้าเว็บรีเฟรชอัตโนมัติเพื่ออัปเดตค่าต่าง ๆ ทุก 3 วินาที



